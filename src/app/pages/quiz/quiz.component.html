<app-menu></app-menu>
<p-toast></p-toast>

<div class="tela">
  <header>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:400,500,700&display=swap" />
    <h5 class="cor-nome">QUIZ - NIMET</h5>
  </header>
  <!-- <h3 class="texto">Com base no seu aprendizado, escolha o nivel que voc√™ deseja jogar!</h3> -->

  <h4 style="color: red;">A p√°gina ainda est√° em constru√ß√£o, ent√£o as perguntas ainda n√£o possuem conte√∫do</h4>
  <!---<hr class="custom-hr">--->

  <div class="start_btn">
    <button (click)="carregarQuestoes(Nivel.BASICO)">B√°sico</button>
    <button (click)="carregarQuestoes(Nivel.INTERMEDIARIO)">Intermedi√°rio</button>
    <button (click)="carregarQuestoes(Nivel.AVANCADO)">Avan√ßado</button>

  </div>

  <div class="info_box" [ngClass]="showWarning ? 'activeInfo':''">

    <div class="info-title"><span>Informa√ß√µes Importantes!</span></div>

    <div class="info-list">

      <div class="info">1. As quest√µes <span>n√£o possuem tempo</span>, fa√ßa-as com calma.</div>

      <div class="info">2. Depois de Selecionar sua resposta, ela <span>n√£o poder√° ser mudada</span>.</div>

      <div class="info">3. N√£o saia do Quiz antes de finaliza-lo.</div>

      <div class="info">4. Todas as quest√µes est√£o associadas ao que voc√™ aprendeu.</div>

    </div>

    <div class="buttons">

      <button class="quit">Voltar</button>

      <button class="restart" (click)="startQuiz()">Continar</button>

    </div>

  </div>




  <div class="quiz_box" [ngClass]="isQuizStarted? 'activeQuiz':''">

    <header>

      <div class="title"> {{user.curso}} QUIZ - {{quiz.nivel}} </div>

      <div class="timer">

        <!--<div class="time_left_txt">Time Off</div>-->

        <div class="timer_sec"><!--{{remainingTime}}-->NIMET</div>
        <!-- Se desejar por o tempo novamente colocar: {{remainingTime}}-->

      </div>

      <div class="time_line" style="width: 650px;"></div>

    </header>


    <section *ngIf="isQuizStarted">
      <!-- Exibe a pergunta atual -->
      <div class="que_text">
        <span>{{ currentQuestionNo + 1 }}. {{ questionsList[currentQuestionNo]?.questao }}</span>
      </div>

      <div class="bolinha"></div>

      <!-- Exibe as op√ß√µes da pergunta atual -->
      <div class="option_list">
        <div class="option"
             [ngClass]="{'disabled': isOptionSelected(questionsList[currentQuestionNo]?.opcoes),
                         'correct': option.isSelected && option.correta,
                         'incorrect': option.isSelected && !option.correta}"
             (click)="selectOption(option)"
             *ngFor="let option of questionsList[currentQuestionNo]?.opcoes">
          <span>{{ option.opcao }}</span>
        </div>
      </div>
    </section>


    <footer>

      <div class="total_que"><span>

          <p>{{currentQuestionNo+1}}</p> de <p>{{questionsList.length}}</p> Quest√µes

        </span></div>

      <button *ngIf="currentQuestionNo+1 == questionsList.length" class="next_btn show"
        (click)="responder()">Finalizar</button>

      <button *ngIf="currentQuestionNo+1 !== questionsList.length" class="next_btn show"
        (click)="nextQuestion()">Avan√ßar</button>

    </footer>

  </div>







  <div class="result_box" [ngClass]="isQuizEnded?'activeResult':''">

    <div class="icon">

      <i class="fas fa-crown"></i>

    </div>

    <div class="complete_text">{{user.nome}}, voc√™ completou o Quiz! </div>

    <div class="score_text">

      <span>Parab√©ns üéâ! voc√™ acertou <p>{{correctAnswerCount}}</p> de <p>{{questionsList.length}}</p></span>

    </div>

    <div class="buttons">

      <!-- <button class="restart">Refazer o Quiz</button> -->

      <button class="quit" (click)="start()">Sair do Quiz</button>

    </div>

  </div>
</div>
